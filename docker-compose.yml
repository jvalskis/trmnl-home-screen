services:
  app:
    build: .
    env_file: .env
    environment:
      WEATHER_ENABLED: ${WEATHER_ENABLED:-true}
      ACCUWEATHER_API_KEY: ${ACCUWEATHER_API_KEY:-}
      WEATHER_CITY: ${WEATHER_CITY:-London}
      WEATHER_FETCH_INTERVAL_MINUTES: ${WEATHER_FETCH_INTERVAL_MINUTES:-60}
      CALENDAR_ENABLED: ${CALENDAR_ENABLED:-true}
      CALDAV_CALENDAR_URL: ${CALDAV_CALENDAR_URL:-}
      CALDAV_AUTH_TYPE: ${CALDAV_AUTH_TYPE:-basic}
      CALDAV_USERNAME: ${CALDAV_USERNAME:-}
      CALDAV_PASSWORD: ${CALDAV_PASSWORD:-}
      CALDAV_FETCH_INTERVAL_MINUTES: ${CALDAV_FETCH_INTERVAL_MINUTES:-30}
      CALDAV_DAYS_AHEAD: ${CALDAV_DAYS_AHEAD:-7}
      HOME_ASSISTANT_ENABLED: ${HOME_ASSISTANT_ENABLED:-false}
      HOME_ASSISTANT_HOST: ${HOME_ASSISTANT_HOST:-homeassistant.local}
      HOME_ASSISTANT_PORT: ${HOME_ASSISTANT_PORT:-8123}
      HOME_ASSISTANT_USE_SSL: ${HOME_ASSISTANT_USE_SSL:-false}
      HOME_ASSISTANT_ACCESS_TOKEN: ${HOME_ASSISTANT_ACCESS_TOKEN:-}
      HOME_ASSISTANT_ENTITY_PATTERN: ${HOME_ASSISTANT_ENTITY_PATTERN:-sensor.*}
      HOME_ASSISTANT_FETCH_INTERVAL_MINUTES: ${HOME_ASSISTANT_FETCH_INTERVAL_MINUTES:-15}
    tmpfs:
      - /tmp
